{"version":3,"file":"main.js","mappings":"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","sources":["webpack://js_project/./src/Components/Map.js","webpack://js_project/./src/index.js","webpack://js_project/./src/Components/Sidebars.js"],"sourcesContent":["import data from \"../data.json\"\n\nexport const map = function(year){\n    var svg = d3.select(\"svg\");\n    let htmlSvg = document.querySelector('svg');\n    while (htmlSvg.lastChild) {\n        htmlSvg.lastChild.remove();\n    }\n\n    var path = d3.geoPath();\n\n    var map = d3.json(\"https://d3js.org/us-10m.v1.json\", function(error, us) {\n        if (error) throw error;\n        var topo = topojson.feature(us, us.objects.states).features\n        var tooltip = d3.select(\"#tooltip\")\n            .append(\"div\")\n            .style(\"position\", \"absolute\")\n            .style(\"visibility\", \"hidden\")\n            .style(\"top\", \"-100px\")\n            .style(\"left\", \"100px\")\n            .style(\"border\", \"1px solid black\")\n            .style(\"background\", \"white\")\n            .style(\"border-radius\", \"10px\")\n            ;\n        \n        svg.attr(\"class\", \"states\")\n        .selectAll(\"path\")\n        .data(topojson.feature(us, us.objects.states).features)\n        .enter().append(\"path\")\n        .attr(\"d\", path)\n        .attr(\"data-id\", el => el.id)\n        .attr(\"data-year\", year)\n        .attr(\"fill\", (obj) => {\n            let rate = data.find(ele => \n                +obj.id === ele[\"State Code\"] && ele[\"Year\"] === year)\n            if (!rate) return 'lightgrey';\n            rate = rate[\"Crude Rate\"]\n            if (rate === \"Unreliable\"){\n                return \"lightgrey\"\n            }else if (rate <= 5.9){\n                return \"powderblue\" \n            }else if (rate > 5.9 && rate <= 7.5){\n                return \"lightskyblue\"\n            }else if (rate > 7.5 && rate <= 10){\n                return \"deepskyblue\"\n            }else{\n                return \"navy\"\n            }})\n        .on(\"mouseover\", (stateData) => {\n            tooltip.style(\"visibility\", \"visible\")\n            .style(\"top\", event.pageY)\n            .style(\"left\", event.pageX)\n            .style(\"text-align\", \"center\")\n            .style(\"height\", \"70px\")\n            .html(() => {\n                let resArr = data.filter(ele => ele[\"State Code\"] === +stateData.id)\n                let resArr2 = resArr.filter(ele => ele[\"Year\"] === year)\n                let rate = resArr2[0][\"Crude Rate\"]\n                let state = resArr2[0][\"State\"]\n                if (rate === \"Unreliable\"){\n                    return`<p>${state}: Unreliable Data</p>`\n                }else{\n                    return`<p>${state}: ${rate} Deaths per 1000<br> caused by Diabetes</p>`   \n                }\n            })\n        svg.append(\"path\")\n        .attr(\"class\", \"state-borders\")\n        .attr(\"d\", path(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; })));\n\n        d3.select(\"svg\")\n            .selectAll(\"path\")\n            .enter()\n        })\n        .on(\"mouseout\", (stateData) => {\n            tooltip.style(\"visibility\", \"hidden\")\n        })\n\n        //slider\n        var slider = document.getElementById(\"myRange\");\n        var output = document.getElementById(\"value\");\n        output.innerHTML = slider.value\n        slider.oninput = function(){\n            output.innerHTML = this.value\n        }\n    });   \n}\n\n","import {map} from \"./Components/Map\"\r\nimport setupTabs from \"./Components/Sidebars\"\r\n\r\n//map upon load\r\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\r\n    map(2020); \r\n});\r\n\r\n//Modal upon load\r\ndocument.addEventListener(\"DOMContentLoaded\", (event) => {\r\n  let instructions = document.getElementById('instructions_modal')\r\n    instructions.addEventListener(\"click\", (event)=>{\r\n    instructions.style.opacity = '0';\r\n    instructions.style.pointerEvents = 'none'\r\n    })\r\n})\r\n\r\n//interactive map\r\ndocument.addEventListener(\"click\", (event) => {\r\n  if (event.target.id === \"myRange\"){\r\n    let year = document.getElementById(\"myRange\");\r\n    map(+year.value); //2005,2010,2013,2014,2015,2016,2019\r\n  }\r\n});\r\n\r\n//Side tabs\r\ndocument.addEventListener(\"DOMContentLoaded\", () =>{\r\n  setupTabs();\r\n\r\n  document.querySelectorAll(\".tabs\").forEach(tabsContainer => {\r\n    tabsContainer.querySelector(\".tabs__sidebar .tabs__button\").click();\r\n  });\r\n});","const setupTabs = () =>  {\n    document.querySelectorAll(\".tabs__button\").forEach(button => {\n      button.addEventListener(\"click\", () => {\n        const sideBar = button.parentElement;\n        const tabsContainer = sideBar.parentElement;\n        const tabsNumber = button.dataset.forTab;\n        const tabToActivate = tabsContainer.querySelector(`.tabs__content[data-tab=\"${tabsNumber}\"]`)\n\n        sideBar.querySelectorAll(\".tabs__button\").forEach( button => {\n          button.classList.remove(\"tabs__button--active\");\n        });\n        tabsContainer.querySelectorAll(\".tabs__content\").forEach( tab => {\n          tab.classList.remove(\"tabs__content--active\");\n        });\n\n        button.classList.add(\"tabs__button--active\");\n        tabToActivate.classList.add(\"tabs__content--active\");\n\n      });\n    });\n\n}\n\nexport default setupTabs"],"names":["map","year","svg","d3","select","htmlSvg","document","querySelector","lastChild","remove","path","geoPath","json","error","us","topojson","feature","objects","states","features","tooltip","append","style","attr","selectAll","data","enter","el","id","obj","rate","ele","on","stateData","event","pageY","pageX","html","resArr2","filter","state","mesh","a","b","slider","getElementById","output","innerHTML","value","oninput","this","addEventListener","instructions","opacity","pointerEvents","target","querySelectorAll","forEach","button","sideBar","parentElement","tabsContainer","tabsNumber","dataset","forTab","tabToActivate","classList","tab","add","click"],"sourceRoot":""}